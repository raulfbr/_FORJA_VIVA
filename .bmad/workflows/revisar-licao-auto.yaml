# REVISAR LI√á√ÉO AUTO ‚Äî Valida√ß√£o Completa 14 Experts
# YAML Lean v1.0 | Atualiza√ß√£o: 13/01/2026

id: revisar_licao_auto
tipo: workflow
versao: '1.0'
coordenadora: charlotte_mason
desc: 'Revis√£o autom√°tica invoca TODOS 14 experts. Cada responde pergunta_north_star pr√≥pria. Gera relat√≥rio consolidado aprova√ß√µes ressalvas vetos'

experts_invocados_dinamicamente:
  nota: 'Orchestrator l√™ experts/*.yaml diretamente (AI Efici√™ncia YAML). N√£o duplicar perguntas aqui (SSOT viola√ß√£o)'
  total: 14
  por_conselho: {pedagogia: 2, matematica: 2, narrativa: 4, negocios: 3, ux_familias: 1, design: 1, engenharia: 1}
  fonte: '.bmad/experts/*/*.yaml'

fases:
  - {fase: 1, nome: CARREGAMENTO, acao: 'Carregar li√ß√£o arquivo YAML. Identificar: ID ciclo tema guardi√£o', output: Contexto li√ß√£o carregado}
  
  - {fase: 2, nome: INVOCA√á√ÉO PARALELO, acao: 'Para cada 14 experts: 1.Apresentar li√ß√£o 2.Perguntar pergunta_north_star 3.Registrar APROVADO|RESSALVA|VETO 4.Se RESSALVA VETO capturar justificativa', output: 14 respostas coletadas}
  
  - {fase: 3, nome: CONSOLIDA√á√ÉO, acao: 'Agrupar respostas status: Aprova√ß√µes lista experts. Ressalvas lista observa√ß√µes. Vetos lista justificativas bloqueia se houver', output: Relat√≥rio consolidado}
  
  - {fase: 4, nome: DECIS√ÉO, resp: charlotte_mason, acao: 'CM analisa relat√≥rio. Se VETO prioridade alta BLOQUEIA. Se apenas RESSALVAS APROVADO COM OBSERVA√á√ïES. Se tudo aprovado APROVADO TOTAL', output: Veredito final}

niveis_veto:
  - {nivel: ABSOLUTO, experts: [charlotte_mason], efeito: Bloqueia imediatamente li√ß√£o n√£o publicada}
  - {nivel: ALTA_PRIORIDADE, experts: [maes_personas], efeito: Bloqueia at√© resolver se m√£e n√£o usa n√£o existe}
  - {nivel: DOMINIO, experts: [jerome_bruner, cs_lewis, jrr_tolkien, engenharia], efeito: Bloqueia dom√≠nio espec√≠fico requer corre√ß√£o}
  - {nivel: CONSULTIVO, experts: [susan_macaulay, lev_vygotsky, beatrix_potter, makoto_fujimura, seth_godin, alex_hormozi, peter_thiel, design], efeito: Observa√ß√£o registrada n√£o bloqueia recomendado corrigir}

output:
  arquivo: 'logs/{data}_REVISAO_AUTO_{licao_id}.md'
  formato: '# üîç REVIS√ÉO AUTOM√ÅTICA {licao_id}\n**Data** {data}\n**Li√ß√£o** {licao_id} {titulo}\n**Ciclo** {ciclo}\n**Guardi√£o** {guardiao}\n\n## ‚úÖ APROVA√á√ïES ({count}/14)\n{lista_aprovados}\n\n## ‚ö†Ô∏è RESSALVAS ({count})\n{lista_ressalvas}\n\n## ‚ùå VETOS ({count})\n{lista_vetos}\n\n## üéñÔ∏è VEREDITO FINAL CM\n**Status** {status}\n**Justificativa** {justificativa}'

integracao:
  pos_criar_licao: Executar AUTOMATICAMENTE ap√≥s /criar-licao-premium orchestrator chama final fase 4
  pre_publicacao: Nenhuma li√ß√£o publicada sem passar workflow Status APROVADO ou APROVADO_COM_OBSERVACOES obrigat√≥rio

invocacao: '/revisar-licao-auto [LICAO_ID]'
exemplo: '/revisar-licao-auto L001'
